services:
  sms_forwarder:
    container_name: sms-gateway
    build: .
    privileged: true
    devices:
      - "${DEVICE}:${DEVICE}"
    env_file:
      - .env
    restart: unless-stopped
    volumes:
      - ./state:/var/spool/gammu
    healthcheck:
      test: ["CMD-SHELL", "gammu --identify -c /etc/gammu-smsdrc >/dev/null 2>&1"]
      interval: 30s
      timeout:  5s
      retries:  3
      start_period: 15s
